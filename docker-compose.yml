fluentdprocessor:
  image: zenviavas/fluentd
  links:
  - zookeeper
  - kafka
  - es0
  environment:
  - FLUENTD_CONFIG=kafka2es
fluentdreceiver:
  image: zenviavas/fluentd
  links:
  - zookeeper
  ports:
  - "9880:9880"
  environment:
  - FLUENTD_CONFIG=app2kafka
kafka-manager:
  image: sheepkiller/kafka-manager
  links:
    - zookeeper
  ports:
  - "9000:9000"
  environment:
  - ZK_HOSTS=zookeeper:2181
  - APPLICATION_SECRET=letmein
kafka:
  image: zenviavas/kafka
  ports:
    - "9092"
    - "8005:8005"
  links:
    - zookeeper:zk
  volumes:
  - /var/run/docker.sock:/var/run/docker.sock
  environment:
    HOSTNAME_COMMAND: route -n | awk '/UG[ \t]/{print $$2}'
    JMX_PORT: 8005
    KAFKA_CREATE_TOPICS: info:1:1,warn:1:1,debug:1:1,error:1:1
